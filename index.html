<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="description" content="BYOS: Knowledge-driven Large Language Models Bring Your Own Operating System More Excellent">
  <meta name="keywords" content="Large language model，OS，linux kernel，optimization">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BYOS: Knowledge-driven Large Language Models Bring Your Own Operating System More Excellent</title>

  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PYVRSFMDRL"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', 'G-PYVRSFMDRL');
  </script>

  <!-- highlight code -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>


  <link href="https://fonts.googleapis.com/css?family=Google+Sans|Noto+Sans|Castoro" rel="stylesheet">

  <link rel="stylesheet" href="./static/css/bulma.min.css">
  <link rel="stylesheet" href="./static/css/bulma-carousel.min.css">
  <link rel="stylesheet" href="./static/css/bulma-slider.min.css">
  <link rel="stylesheet" href="./static/css/fontawesome.all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
  <link rel="stylesheet" href="./static/css/index.css">
  <link rel="icon" href="./static/images/logo.png">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script defer src="./static/js/fontawesome.all.min.js"></script>
  <script src="./static/js/bulma-carousel.min.js"></script>
  <script src="./static/js/bulma-slider.min.js"></script>
  <script src="./static/js/index.js"></script>
</head>

<body>


  <section class="hero">
    <div class="hero-body">
      <div class="container is-max-desktop">
        <div class="columns is-centered">
          <div class="column has-text-centered">
            <h1 class="title is-1 publication-title">
                  BYOS: Knowledge-driven Large Language Models Bring Your Own Operating System More Excellent
            </h1>
              <div class="is-size-5 publication-authors">
                <span class="author-block">
                  <a>Hongyu Lin*</a><sup>1,2</sup>,</span>
                <span class="author-block">
                  <a>Yuchen Li*</a><sup>1,2</sup>,</span>
                <span class="author-block">
                  <a>Haoran Luo</a><sup>3</sup>,</span>
                <span class="author-block">
                  <a> Kaichun Yao</a><sup>2</sup>,</span>
                <span class="author-block">
                  <a>Libo Zhang</a><sup>2</sup>,</span>
                <span class="author-block">
                  <a>Mingjie Xing</a><sup>2</sup>,</span>
                <span class="author-block">
                  <a>Yanjun Wu</a><sup>2</sup>,</span>               
                </span>
              </div>

            <div class="is-size-5 publication-authors">              
              <span class="author-block"><sup>1</sup>University of Chinese Academy of Sciences</span><br>
              <span class="author-block"><sup>2</sup>Intelligent Software Research Center, Institute of Software</span><br>
            </div>

            <div class="column has-text-centered">
              <div class="publication-links">
                <!-- PDF Link. -->
                <span class="link-block">
                  <a href="https://arxiv.org/pdf/2503.09663" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="ai ai-arxiv"></i>
                    </span>
                    <span>paper</span>
                  </a>
                </span>
                <!-- Code Link. -->
                <span class="link-block">
                  <a href="https://github.com/LHY-24/BYOS" class="external-link button is-normal is-rounded is-dark">
                    <span class="icon">
                      <i class="fab fa-github"></i>
                    </span>
                    <span>Code</span>
                  </a>
                </span>             
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">      
      <!--/ Abstract. -->
      <!-- Overview. -->
      <div class="columns is-centered has-text-centered">
        <div class="column">
          <h2 class="title is-3">Overview</h2>
          <div class="content">
            <p>
              Kernel configurations play an important role in the
              performance of Operating System (OS). However,
              with the rapid iteration of OS, finding the proper
              configurations that meet specific requirements can
              be challenging, which can be primarily attributed
              to the default kernel provided by vendors does
              not take the requirements of specific workloads
              into account, and the heavyweight tuning process
              cannot catch up with the rapid evolving pace of
              the kernel. To address these challenges, we propose BYOS, a novel framework powered by Large
              Language Models (LLMs) to customize kernel
              configurations for diverse user requirements. By
              integrating OS-oriented Dual-layer Knowledge
              Graph (OD-KG) and corresponding reasoning
              strategy, BYOS enhanced the LLM’s understanding of the characteristics and capabilities of OS,
              thus enabling customized, cost-effective, and convenient generation of kernel configurations. Experiments show that the kernels configured by
              BYOS outperform the default vendor-configured
              kernels by 7.1% to 155.4%, demonstrating the effectiveness and efficiency of BYOS in customizing kernel configurations.
            </p>
            <p>
            <img src="./static/images/method.jpg">
            <p>
              An actual example of the optimization on the dynamic tree. (a) The AutoOS framework uses a state-machine-like prompt template with five stages to explore kernel configurations, optimize performance, and ensure successful OS boot-up. (b) An example of how the dynamic tree is traversed.
          </div>
          
        </div>
      </div>
      <!--/ Overview. -->
    </div>
  </section>

  <section class="section">
    <div class="container is-max-desktop">     
      <div class="columns is-centered">
        <div class="column">
          <div class="content">
            <h2 class="title is-3"> Main Results </h2>
            <p>
              ​AutoOS was evaluated across three Linux distributions—PolyOS, Fedora, and Ubuntu—on two hardware platforms: a Hifive embedded development board (RISC-V architecture) and a PC with an Intel Core i7-13700F processor. The evaluation utilized UnixBench and LMbench benchmarks to assess performance improvements. 
            </p>
            <p>
              AutoOS outperforms both default configurations and LLM-Vanilla in AIoT scenarios, achieving performance improvements of up to 25.6% on Fedora and 8.4% on PolyOS. In the general-purpose scenario with Ubuntu, AutoOS achieves a 9.08% overall performance increase。
           
            <img src="./static/images/result1.jpg">
            </p>
            <img src="./static/images/result2.jpg">
             Here are the optimized configurations on <a href="https://github.com/xuewuyinhe/AutoOS/blob/main/optimized_result/polyos_config%20_optimized.txt">PolyOS</a>, <a href="https://github.com/xuewuyinhe/AutoOS/blob/main/optimized_result/fedora_config%20_optimized.txt">Fedora</a> and <a href="https://github.com/xuewuyinhe/AutoOS/blob/main/optimized_result/ubuntu22_04_config%20_optimized.txt">ubuntu</a> seperately. The newly added configuration options appear at the end of the file, below the “#////” marker.
          </div>
        </div>
      </div>


      <div class="columns is-centered">
        <div class="column">
          <div class="content">
            <h2 class="title is-3"> Possibility of Achieving Positive Results </h2>
            <p>
              AutoOS demonstrates its robustness on Fedora, exploring legal configurations in all 56 search trials, with 26.78% of trials surpassing the default performance. It consistently finds optimized configurations, with the best performance achieved within 24 trials.
            </p>
            <div style="text-align: center;">
              <img src="./static/images/prob.jpg" style="width: 65%; height: auto;">
            </div>
          </div>
        </div>
      </div>


      <div class="columns is-centered">
        <div class="column">
          <div class="content">
            <h2 class="title is-3"> Case Study of the Optimized OS Kernel Configuration </h2>
            <p>
              Here we present the configuration option modifications that led to a 25.6% performance enhancement for Fedora in our experiments. In the optimal configuration, AutoOS made modifications to a total of 45 kernel options, starting from the default settings. 
            </p>
            <div style="text-align: center;">
              <img src="./static/images/options.jpg">
            </div>
          </div>
        </div>
      </div>
      
      <!-- Method -->

      <div class="columns is-centered">
        <div class="column is-full-width">
          <h2 class="title is-3">Quick Start</h2>
          <pre style="width: 100%; overflow: auto; background: none;">
          <code class="bash" style="min-width: 100%; width: 0px; overflow: scroll; font-family: 'Cascadia Code', 'Menlo', 'Courier New', monospace;">
# You can use the following commands according to your own compiled OS environment to write a shell script that automates the process of searching, compiling, and installing.
# 0. Inspect the Linux kernel version and .config file of the OS distribution that needs optimization.
# 1. Prepare the corresponding Linux version's source code repository. Then, clone and download this project, placing all files within the Linux kernel source repository.
git clone https://github.com/torvalds/linux.git
cd linux
git clone https://github.com/xuewuyinhe/AutoOS.git
mv AutoOS/* ./

# 2. Copy the .config file from the OS distribution that needs optimization to the Linux version's source code repository, then change the name using the command below:
cp .config .config_base

# 3. Modify the ARCH and SRCARCH variable to your architecture name
echo "export srctree=." > init_env.sh
echo "export CC=gcc" >> init_env.sh
echo "export LD=ld" >> init_env.sh
echo "export ARCH=x86" >> init_env.sh
echo "export SRCARCH=x86" >> init_env.sh


# 4.  set the OpenAI API key
echo "your-openai-api-key" > key.txt

# 5. initial
source ./init_env.sh

# 6. run AutoOS
python3 AutoOS.py

# When first run it, the error message will appear as follows:
"kconfiglib.KconfigError: kernel/module/Kconfig:4: error: couldn't parse 'modules': unrecognized construct"

# To disable module functionality, delete the problematic code located under kernel/module/Kconfig (The place is according to the message). The code to remove is as follows:
'''
menuconfig MODULES
           bool "Enable loadable module support"
           modules
           help
             Kernel modules are small pieces of compiled code which can
             be inserted in the running kernel, rather than being
             permanently built into the kernel.  You use the "modprobe"
             tool to add (and sometimes remove) them.  If you say Y here,
             many parts of the kernel can be built as modules (by
             answering M instead of Y where indicated): this is most
             useful for infrequently used options which are not required
             for booting.  For more information, see the man pages for
             modprobe, lsmod, modinfo, insmod and rmmod.
   
             If you say Y here, you will need to run "make
             modules_install" to put the modules under /lib/modules/
             where modprobe can find them (you may need to be root to do
             this).
   
             If unsure, say Y.
'''
# run Autoos again
python3 AutoOS.py

# 7. Generate new config files using the command below,the newly generated configuration file is located at ./files/config
python3 append.py

# 8. Using the following command, load the newly generated ./files/config file, and then save it as ./.config in the current directory.
menuconfig ARCH=x86 (change riscv to the arch you use) 

# 9. Compile and install a new OS with the new config， then evaluate it using unixbench total score.

# Steps 6-9 constitute a single search, with 24-48 searches recommended. If the generated OS fails to boot, you can return the errors and modified options to your LLM for identification. If not successful, use a binary search to identify the problematic option . Remember the previously identified options and filter out those in subsequent generated configurations. The modified options in one search is in ./output.txt generated after running AutoOS.py. Remove the the problematic options in output.txt and run append.py again to generated a viable OS configuration
            </code>
          </pre>
        </div>
      </div>
    </div>
  
    <!-- <hr/> -->
    <!-- <section class="section" id="BibTeX"> -->
      <!-- <div class="columns is-centered"> -->
        <div class="container content is-max-desktop">
            <h2 class="title is-3"> BibTex </h2>
              <pre>
  <code class="nohighlight" style="background-color: transparent; color: black; font-family: monospace;">
@inproceedings{chen2024autoos,
   title={AutoOS: Make Your OS More Powerful by Exploiting Large Language Models},
   author={Huilai Chen and Yuanbo Wen and Limin Cheng and Shouxu Kuang and Yumeng Liu and Weijia Li and Ling Li and Rui Zhang and Xinkai Song and Wei Li and others},
   booktitle={Forty-first International Conference on Machine Learning},
   url={https://github.com/xuewuyinhe/AutoOS},
}
  </code>
              </pre>
      </div>
      <!-- </section> -->
  </section>

  <!-- <hr/> -->
  

  <footer class="footer">
    <div class="container">
      <div class="columns is-centered">
        <div class="column is-8">
          <div class="content">
            <p>
              This website is licensed under a <a rel="license"
                href="http://creativecommons.org/licenses/by-sa/4.0/">Creative
                Commons Attribution-ShareAlike 4.0 International License</a>.
            </p>
            <p>
              Thanks for the website template <a href="https://nerfies.github.io">Nerfies</a>
            </p>
          </div>
        </div>
      </div>
    </div>
  </footer>

</body>

</html>
